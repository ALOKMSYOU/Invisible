local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")

local LP = Players.LocalPlayer
local Cam = workspace.CurrentCamera
local Mouse = LP:GetMouse()

local UI_SCALE = 1/1.4
local AUTO_RADIUS = 30 -- ‡∏£‡∏∞‡∏¢‡∏∞‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö Auto
local MOVE_SNAP = 1
local ROT_SNAP = 15

local holdDistance = 25
local throwForce = 200

local grabbed = {}
local frozen = { }
local selected = {}
local highlights = {}
local handles = {}

local autoGrabNPC = false
local autoGrabPart = false
local autoFreeze = false
local autoThrow = false
local highlightOn = true

local currentTool = "NONE"

local initialCFrames = {}
local initialPositions = {}

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏•‡πà‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡πÄ‡∏≠‡∏á‡πÑ‡∏´‡∏°
local function isPlayer(obj)
    if not obj then return false end
    local model = obj:FindFirstAncestorOfClass("Model")
    if model then
        if Players:GetPlayerFromCharacter(model) then
            return true
        end
        -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ (‡∏Å‡∏£‡∏ì‡∏µ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå)
        if model.Name == LP.Name then return true end
    end
    return false
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Part (‡πÑ‡∏°‡πà Anchored ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô)
local function isValidPart(p)
    if not p or not p:IsA("BasePart") then return false end
    if p.Anchored then return false end 
    if isPlayer(p) then return false end
    return true
end

-- GUI Setup
local gui = Instance.new("ScreenGui")
pcall(function() gui.Parent = CoreGui end)
if gui.Parent ~= CoreGui then gui.Parent = LP.PlayerGui end
gui.Name = "TelekinesisUI_F3X_Pro"
gui.ResetOnSpawn = false
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local cross = Instance.new("Frame", gui)
cross.Size = UDim2.fromOffset(6,6)
cross.Position = UDim2.fromScale(0.5,0.5)
cross.AnchorPoint = Vector2.new(0.5,0.5)
cross.BackgroundColor3 = Color3.new(1,1,1)
Instance.new("UICorner",cross).CornerRadius = UDim.new(1,0)

local targetHL = Instance.new("Highlight", gui)
targetHL.FillTransparency = 0.6
targetHL.OutlineColor = Color3.fromRGB(255,255,255)

local main = Instance.new("Frame", gui)
main.Size = UDim2.fromScale(0.32*UI_SCALE, 0.75*UI_SCALE)
main.Position = UDim2.fromScale(0.03, 0.18)
main.BackgroundColor3 = Color3.fromRGB(20,20,20)
main.Active = true
main.Draggable = true
Instance.new("UICorner",main).CornerRadius = UDim.new(0,14)

local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1,0,0,32)
title.Text = "TELEKINESIS UI 1.4"
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextColor3 = Color3.new(1,1,1)
title.BackgroundTransparency = 1

local pages = {}
local function createPage()
    local f = Instance.new("ScrollingFrame", main)
    f.Position = UDim2.new(0.03,0,0,36)
    f.Size = UDim2.new(0.94,0,1,-45)
    f.ScrollBarThickness = 4
    f.Visible = false
    f.BackgroundColor3 = Color3.fromRGB(30,30,30)
    f.BorderSizePixel = 0
    local layout = Instance.new("UIListLayout", f)
    layout.Padding = UDim.new(0,5)
    layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        f.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y+10)
    end)
    return f
end

pages.main = createPage()
pages.move = createPage()

local function showPage(name)
    for k,v in pairs(pages) do v.Visible = (k == name) end
end
showPage("main")

-- Logic Functions
local function getTarget()
    local rp = RaycastParams.new()
    rp.FilterType = Enum.RaycastFilterType.Exclude
    rp.FilterDescendantsInstances = {LP.Character, Cam}
    local r = workspace:Raycast(Cam.CFrame.Position, Cam.CFrame.LookVector * 500, rp)
    if r and r.Instance and isValidPart(r.Instance) then return r.Instance end
    return nil
end

local function grabPart(p)
    if not isValidPart(p) or grabbed[p] then return end
    local bp = Instance.new("BodyPosition", p)
    bp.MaxForce = Vector3.new(1e6,1e6,1e6)
    bp.P = 10000
    bp.Position = p.Position
    local bg = Instance.new("BodyGyro", p)
    bg.MaxTorque = Vector3.new(1e6,1e6,1e6)
    bg.P = 10000
    bg.CFrame = p.CFrame
    grabbed[p] = {bp = bp, bg = bg}
    
    if autoFreeze then frozen[p] = true end
    if autoThrow then
        task.wait(0.1)
        p.AssemblyLinearVelocity = Cam.CFrame.LookVector * throwForce
        bp:Destroy() bg:Destroy() grabbed[p] = nil
    end
end

local function clearAllHandles()
    for p, hSet in pairs(handles) do
        if hSet.move then hSet.move:Destroy() end
        if hSet.rot then hSet.rot:Destroy() end
    end
    handles = {}
end

local function createHandles(p)
    clearAllHandles()
    if not p or not isValidPart(p) then return end
    
    local mh = Instance.new("Handles", gui)
    mh.Adornee = p
    mh.Style = Enum.HandlesStyle.Resize
    mh.Color3 = Color3.fromRGB(255,255,100)
    mh.Visible = (currentTool == "MOVE")

    local ah = Instance.new("ArcHandles", gui)
    ah.Adornee = p
    ah.Parent = gui
    ah.Visible = (currentTool == "ROTATE")

    mh.MouseButton1Down:Connect(function()
        initialPositions = {}
        for part in pairs(selected) do if grabbed[part] then initialPositions[part] = grabbed[part].bp.Position end end
    end)

    mh.MouseDrag:Connect(function(face, dist)
        local axisVec = Vector3.FromNormalId(face)
        local snappedDist = math.round(dist / MOVE_SNAP) * MOVE_SNAP
        for part in pairs(selected) do
            if grabbed[part] and initialPositions[part] then
                grabbed[part].bp.Position = initialPositions[part] + (p.CFrame:VectorToWorldSpace(axisVec) * snappedDist)
            end
        end
    end)

    ah.MouseButton1Down:Connect(function()
        initialCFrames = {}
        for part in pairs(selected) do if grabbed[part] then initialCFrames[part] = grabbed[part].bg.CFrame end end
    end)

    ah.MouseDrag:Connect(function(axis, angle)
        local snappedDeg = math.round(math.deg(angle) / ROT_SNAP) * ROT_SNAP
        local rotationCFrame = CFrame.fromAxisAngle(Vector3.FromAxis(axis), math.rad(snappedDeg))
        for part in pairs(selected) do
            if grabbed[part] and initialCFrames[part] then
                grabbed[part].bg.CFrame = initialCFrames[p] * rotationCFrame * (initialCFrames[p]:Inverse() * initialCFrames[part])
            end
        end
    end)
    handles[p] = {move = mh, rot = ah}
end

local function setHighlight(p, state)
    if state then
        if not highlights[p] and isValidPart(p) then
            local hl = Instance.new("Highlight", gui)
            hl.Adornee = p
            hl.FillTransparency = 0.4
            hl.OutlineColor = Color3.fromRGB(255,255,0)
            highlights[p] = hl
        end
    else
        if highlights[p] then highlights[p]:Destroy() highlights[p] = nil end
    end
end

-- UI Component Helpers
local function btn(page, text, cb)
    local b = Instance.new("TextButton", page)
    b.Size = UDim2.new(1,0,0,28)
    b.Text = text
    b.Font = Enum.Font.Gotham
    b.TextSize = 12
    b.TextColor3 = Color3.new(1,1,1)
    b.BackgroundColor3 = Color3.fromRGB(70,70,70)
    Instance.new("UICorner",b)
    b.MouseButton1Click:Connect(function() cb(b) end)
    return b
end

local function label(page, text)
    local l = Instance.new("TextLabel", page)
    l.Size = UDim2.new(1,0,0,20)
    l.BackgroundTransparency = 1
    l.Text = text
    l.Font = Enum.Font.GothamBold
    l.TextColor3 = Color3.fromRGB(150,150,150)
    l.TextSize = 11
    return l
end

-- PAGE 1: MAIN
btn(pages.main, "GRAB (LOOK)", function() grabPart(getTarget()) end)
btn(pages.main, "DROP (LOOK)", function()
    local t=getTarget()
    if t and grabbed[t] then
        grabbed[t].bp:Destroy() grabbed[t].bg:Destroy()
        grabbed[t]=nil frozen[t]=nil selected[t]=nil
        setHighlight(t,false) clearAllHandles()
    end
end)
btn(pages.main, "DROP ALL", function()
    for p, objs in pairs(grabbed) do objs.bp:Destroy() objs.bg:Destroy() end
    grabbed={} frozen={} selected={}
    for p in pairs(highlights) do setHighlight(p,false) end
    clearAllHandles()
end)
btn(pages.main, "FREEZE (LOOK)", function() local t=getTarget() if t and grabbed[t] then frozen[t]=true end end)
btn(pages.main, "UNFREEZE (LOOK)", function()
    local t=getTarget()
    if t then frozen[t]=nil setHighlight(t,false) end
end)
btn(pages.main, "UNFREEZE ALL", function() frozen={} selected={} for p in pairs(highlights) do setHighlight(p,false) end clearAllHandles() end)

label(pages.main, "--- AUTO SETTINGS ---")
btn(pages.main, "AUTO GRAB NPC : OFF", function(b) autoGrabNPC = not autoGrabNPC b.Text = "AUTO GRAB NPC : "..(autoGrabNPC and "ON" or "OFF") end)
btn(pages.main, "AUTO GRAB PART : OFF", function(b) autoGrabPart = not autoGrabPart b.Text = "AUTO GRAB PART : "..(autoGrabPart and "ON" or "OFF") end)
btn(pages.main, "AUTO FREEZE : OFF", function(b) autoFreeze = not autoFreeze b.Text = "AUTO FREEZE : "..(autoFreeze and "ON" or "OFF") end)
btn(pages.main, "AUTO THROW : OFF", function(b) autoThrow = not autoThrow b.Text = "AUTO THROW : "..(autoThrow and "ON" or "OFF") end)

label(pages.main, "--- ACTIONS ---")
btn(pages.main, "THROW (LOOK)", function()
    local t = getTarget()
    if t and grabbed[t] then
        t.AssemblyLinearVelocity = Cam.CFrame.LookVector * throwForce
        grabbed[t].bp:Destroy() grabbed[t].bg:Destroy()
        grabbed[t]=nil frozen[t]=nil setHighlight(t,false)
    end
end)

local distLabel = btn(pages.main, "DISTANCE : "..holdDistance, function() end)
btn(pages.main, "+ DIST", function() holdDistance+=5 distLabel.Text = "DISTANCE : "..holdDistance end)
btn(pages.main, "- DIST", function() holdDistance = math.max(1, holdDistance-5) distLabel.Text = "DISTANCE : "..holdDistance end)
btn(pages.main, "HIGHLIGHT : ON", function(b) highlightOn = not highlightOn b.Text = "HIGHLIGHT : "..(highlightOn and "ON" or "OFF") end)
btn(pages.main, "‚ñ∂ MOVE / ROTATE MODE", function() showPage("move") end)
btn(pages.main, "DESTROY UI", function() for p,o in pairs(grabbed) do o.bp:Destroy() o.bg:Destroy() end gui:Destroy() end)

-- PAGE 2: MOVE
local list = Instance.new("ScrollingFrame", pages.move)
list.Size = UDim2.new(1,0,0,120); list.BackgroundColor3 = Color3.fromRGB(35,35,35); list.BorderSizePixel = 0
local ll = Instance.new("UIListLayout", list); ll.Padding = UDim.new(0,4)

local function refreshList()
    for _,c in ipairs(list:GetChildren()) do if c:IsA("TextButton") then c:Destroy() end end
    for p in pairs(frozen) do
        if p and p.Parent then
            local b = btn(list, p.Name, function()
                selected[p] = not selected[p]
                setHighlight(p, selected[p])
                local last = nil; for part in pairs(selected) do last = part end
                if last then createHandles(last) else clearAllHandles() end
                refreshList()
            end)
            b.BackgroundColor3 = selected[p] and Color3.fromRGB(120,120,0) or Color3.fromRGB(70,70,70)
        end
    end
end

btn(pages.move, "REFRESH LIST", refreshList)
btn(pages.move, "SELECT ALL", function()
    local last = nil; for p in pairs(frozen) do selected[p] = true; setHighlight(p, true); last = p end
    if last then createHandles(last) end refreshList()
end)
btn(pages.move, "UNSELECT ALL", function() for p in pairs(selected) do setHighlight(p, false) end selected = {}; clearAllHandles(); refreshList() end)

label(pages.move, "--- TOOLS (MULTI-EDIT) ---")
local toolBtn = btn(pages.move, "CURRENT TOOL: NONE", function(b)
    if currentTool == "NONE" then currentTool = "MOVE" elseif currentTool == "MOVE" then currentTool = "ROTATE" else currentTool = "NONE" end
    b.Text = "CURRENT TOOL: "..currentTool
    local last = nil; for p in pairs(selected) do last = p end
    if last then createHandles(last) end
end)

label(pages.move, "--- SETTINGS ---")
btn(pages.move, "MOVE STEP (SNAP): "..MOVE_SNAP, function(b)
    if MOVE_SNAP == 0.1 then MOVE_SNAP = 0.5 elseif MOVE_SNAP == 0.5 then MOVE_SNAP = 1 elseif MOVE_SNAP == 1 then MOVE_SNAP = 5 else MOVE_SNAP = 0.1 end
    b.Text = "MOVE STEP (SNAP): "..MOVE_SNAP
end)
btn(pages.move, "ROTATE STEP (SNAP): "..ROT_SNAP, function(b)
    if ROT_SNAP == 1 then ROT_SNAP = 15 elseif ROT_SNAP == 15 then ROT_SNAP = 45 elseif ROT_SNAP == 45 then ROT_SNAP = 90 else ROT_SNAP = 1 end
    b.Text = "ROTATE STEP (SNAP): "..ROT_SNAP
end)
btn(pages.move, "‚óÄ BACK", function() showPage("main") end)

-- Loop ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö Auto ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•
RunService.RenderStepped:Connect(function()
    targetHL.Adornee = highlightOn and getTarget() or nil
    
    -- Auto Logic
    if autoGrabPart or autoGrabNPC then
        for _, p in pairs(workspace:GetPartBoundsInRadius(LP.Character.PrimaryPart.Position, AUTO_RADIUS)) do
            if isValidPart(p) and not grabbed[p] then
                local isNPC = p:FindFirstAncestorOfClass("Model") and p:FindFirstAncestorOfClass("Model"):FindFirstChild("Humanoid")
                if (autoGrabNPC and isNPC) or (autoGrabPart and not isNPC) then
                    grabPart(p)
                end
            end
        end
    end

    -- Update Position ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏∑‡∏≠
    for p, objs in pairs(grabbed) do
        if not p or not p.Parent or p.Anchored then
            if objs.bp then objs.bp:Destroy() end
            if objs.bg then objs.bg:Destroy() end
            grabbed[p] = nil; frozen[p] = nil; setHighlight(p, false)
        elseif not frozen[p] then
            objs.bp.Position = Cam.CFrame.Position + Cam.CFrame.LookVector * holdDistance
            objs.bg.CFrame = p.CFrame
        end
    end
end)

-- Minimize Button
local toggleBtn = Instance.new("TextButton", gui)
toggleBtn.Size = UDim2.fromOffset(40, 40)
toggleBtn.Position = UDim2.new(0.03, 0, 0.18, -45)
toggleBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
toggleBtn.Text = "[-]"
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.Draggable = true
Instance.new("UICorner", toggleBtn)

local isMinimized = false
toggleBtn.MouseButton1Click:Connect(function()
    isMinimized = not isMinimized
    main.Visible = not isMinimized
    toggleBtn.Text = isMinimized and "[+]" or "[-]"
end)
-- [[ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ]] --
local UserInputService = game:GetService("UserInputService")
local isPC = not (UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled)

-- UI ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå (‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ)
local helpUI = Instance.new("Frame", gui)
helpUI.Size = UDim2.fromOffset(280, 320) -- ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ç‡∏ô‡∏≤‡∏î UI
helpUI.Position = UDim2.new(0.7, 0, 0.3, 0)
helpUI.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
helpUI.BackgroundTransparency = 0.2
helpUI.Visible = isPC
helpUI.Active = true
helpUI.Draggable = true
Instance.new("UICorner", helpUI).CornerRadius = UDim.new(0, 10)

local helpTitle = Instance.new("TextLabel", helpUI)
helpTitle.Size = UDim2.new(1, 0, 0, 40)
helpTitle.Text = "üíª PC CONTROLS"
helpTitle.TextColor3 = Color3.fromRGB(0, 255, 255)
helpTitle.BackgroundTransparency = 1
helpTitle.Font = Enum.Font.GothamBold
helpTitle.TextSize = 22 -- ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠

local helpText = Instance.new("TextLabel", helpUI)
helpText.Size = UDim2.new(1, -20, 1, -50)
helpText.Position = UDim2.fromOffset(10, 50)
helpText.Text = "‚Ä¢ [G] : Grab Mode (L-Click)\n‚Ä¢ [F] : Freeze Mode (L-Click)\n‚Ä¢ [T] : Throw (T x2 = Auto)\n‚Ä¢ [N] : Unfreeze All\n\nüñ±Ô∏è MOUSE ACTIONS:\n‚Ä¢ L-Click: Grab/Freeze\n‚Ä¢ R-Click: Drop Part\n‚Ä¢ R-Click x2: Drop All\n\n‚ö†Ô∏è NOTE: Must turn OFF \nFreeze Mode to Drop parts!"
helpText.TextColor3 = Color3.new(1, 1, 1)
helpText.TextWrapped = true
helpText.TextYAlignment = Enum.TextYAlignment.Top
helpText.TextXAlignment = Enum.TextXAlignment.Left
helpText.BackgroundTransparency = 1
helpText.Font = Enum.Font.GothamMedium
helpText.TextSize = 18 -- ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏´‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
helpText.LineHeight = 1.2

-- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÇ‡∏´‡∏°‡∏î
local grabModeActive = false
local freezeModeActive = false
local lastTClick = 0
local lastRClick = 0

-- ‡∏õ‡∏¥‡∏î Crosshair ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≠‡∏° ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏ä‡∏µ‡πâ‡πÅ‡∏ó‡∏ô
if isPC then cross.Visible = false end

-- [[ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏°‡∏≤‡∏™‡πå (Mouse Raycast) ]] --
local function getMouseTarget()
    local mousePos = UserInputService:GetMouseLocation()
    local unitRay = Cam:ViewportPointToRay(mousePos.X, mousePos.Y)
    local rp = RaycastParams.new()
    rp.FilterType = Enum.RaycastFilterType.Exclude
    rp.FilterDescendantsInstances = {LP.Character, Cam}
    
    local r = workspace:Raycast(unitRay.Origin, unitRay.Direction * 1000, rp)
    if r and r.Instance and isValidPart(r.Instance) then 
        return r.Instance 
    end
    return nil
end

-- [[ ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏°‡∏≤‡∏™‡πå ]] --
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed or not isPC then return end

    -- G: Toggle Grab Mode
    if input.KeyCode == Enum.KeyCode.G then
        grabModeActive = not grabModeActive
        freezeModeActive = false
        updateStatusUI() -- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ UI ‡∏ö‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
    
    -- F: Toggle Freeze Mode
    elseif input.KeyCode == Enum.KeyCode.F then
        freezeModeActive = not freezeModeActive
        grabModeActive = false
        updateStatusUI()

    -- N: Unfreeze All
    elseif input.KeyCode == Enum.KeyCode.N then
        frozen = {}
        for p in pairs(highlights) do setHighlight(p, false) end

    -- T: Throw & Auto Throw
    elseif input.KeyCode == Enum.KeyCode.T then
        local now = tick()
        if now - lastTClick < 0.3 then
            autoThrow = not autoThrow
        else
            for p, o in pairs(grabbed) do
                p.AssemblyLinearVelocity = Cam.CFrame.LookVector * throwForce
                o.bp:Destroy() o.bg:Destroy()
                grabbed[p] = nil
            end
        end
        lastTClick = now

    -- Mouse Button 1 (‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ã‡πâ‡∏≤‡∏¢): Grab ‡∏´‡∏£‡∏∑‡∏≠ Freeze
    elseif input.UserInputType == Enum.UserInputType.MouseButton1 then
        local target = getMouseTarget()
        if target then
            if grabModeActive then
                grabPart(target)
            elseif freezeModeActive then
                grabPart(target)
                frozen[target] = true
                setHighlight(target, true)
                if highlights[target] then 
                    highlights[target].OutlineColor = Color3.fromRGB(0, 170, 255) 
                end
            end
        end

    -- Mouse Button 2 (‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤): Drop
    elseif input.UserInputType == Enum.UserInputType.MouseButton2 then
        local now = tick()
        if now - lastRClick < 0.3 then -- Double Click Right
            for p, o in pairs(grabbed) do
                o.bp:Destroy() o.bg:Destroy()
                grabbed[p] = nil
            end
        else
            -- Single Click: ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏¥‡∏î Freeze Mode ‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏à‡∏∞ Drop ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏Å‡∏é
            if not freezeModeActive then
                local target = getMouseTarget()
                if target and grabbed[target] then
                    grabbed[target].bp:Destroy()
                    grabbed[target].bg:Destroy()
                    grabbed[target] = nil
                end
            end
        end
        lastRClick = now
    end
end)

-- [[ ‡∏•‡∏π‡∏õ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• (RenderStepped) ]] --
RunService.RenderStepped:Connect(function()
    if not isPC then return end

    -- 1. ‡∏£‡∏∞‡∏ö‡∏ö Highlight ‡∏ï‡∏≤‡∏°‡πÄ‡∏°‡∏≤‡∏™‡πå (‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô Highlight ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏ô)
    local targetUnderMouse = getMouseTarget()
    if targetUnderMouse then
        targetHL.Adornee = targetUnderMouse
        if grabModeActive then
            targetHL.OutlineColor = Color3.fromRGB(0, 255, 0) -- ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÇ‡∏´‡∏°‡∏î Grab
        elseif freezeModeActive then
            targetHL.OutlineColor = Color3.fromRGB(0, 170, 255) -- ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡πÇ‡∏´‡∏°‡∏î Freeze
        else
            targetHL.OutlineColor = Color3.new(1, 1, 1) -- ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡∏õ‡∏Å‡∏ï‡∏¥
        end
    else
        targetHL.Adornee = nil
    end

    -- 2. ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á Part (‡∏ï‡∏≤‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏°‡∏≤‡∏™‡πå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠)
    for p, objs in pairs(grabbed) do
        if not frozen[p] then
            local mousePos = UserInputService:GetMouseLocation()
            local unitRay = Cam:ViewportPointToRay(mousePos.X, mousePos.Y)
            
            -- ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å 3D ‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á (holdDistance) ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏≤‡∏™‡πå
            local targetPosition = unitRay.Origin + (unitRay.Direction * holdDistance)
            
            objs.bp.Position = targetPosition
            objs.bg.CFrame = p.CFrame -- ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏™‡∏≠‡∏á‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏°
        end
    end
end)
-- [[ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ Part ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏≤‡πÑ‡∏ß‡πâ‡∏ï‡∏£‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô ]] --
local function teleportSelectedToFront()
    local char = LP.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end
    
    -- ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ‡πÄ‡∏≠‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ + (‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏õ * ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á 7 ‡∏´‡∏ô‡πà‡∏ß‡∏¢)
    local rootCF = char.HumanoidRootPart.CFrame
    local spawnPos = rootCF.Position + (rootCF.LookVector * 7) 
    
    for part in pairs(selected) do
        if part and part.Parent and not part.Anchored then
            -- ‡∏ñ‡πâ‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á Grab ‡∏≠‡∏¢‡∏π‡πà ‡πÉ‡∏´‡πâ‡∏¢‡πâ‡∏≤‡∏¢ BodyPosition ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏ô‡∏±‡πâ‡∏ô
            if grabbed[part] then
                grabbed[part].bp.Position = spawnPos
                grabbed[part].bg.CFrame = rootCF -- ‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏á‡∏®‡∏≤‡πÉ‡∏´‡πâ‡∏´‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏î‡πâ‡∏ß‡∏¢ (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
            else
                -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Grab ‡πÉ‡∏´‡πâ‡∏ß‡∏≤‡∏£‡πå‡∏õ CFrame ‡πÑ‡∏õ‡πÄ‡∏•‡∏¢
                part.CFrame = CFrame.new(spawnPos)
            end
        end
    end
end

-- [[ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤ Move Mode ]] --
if pages and pages.move then
    label(pages.move, "--- POSITIONING ---")
    local tpFrontBtn = btn(pages.move, "TELEPORT PART(SELECT FIRST)", function()
        teleportSelectedToFront()
    end)
    
    -- ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏µ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏∑‡πà‡∏ô (‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á/‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô)
    tpFrontBtn.BackgroundColor3 = Color3.fromRGB(80, 50, 200)
    tpFrontBtn.Font = Enum.Font.GothamBold
end
-- [[ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏•‡∏ö (‡∏•‡∏ö‡πÅ‡∏ö‡∏ö‡πÉ‡∏ä‡πâ‡πÅ‡∏£‡∏á‡πÄ‡∏´‡∏ß‡∏µ‡πà‡∏¢‡∏á) ]] --
local deleteForce = 4500 -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ô

-- [[ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° DELETE ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Main (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠) ]] --
if pages and pages.main then
    label(pages.main, "--- DESTRUCTION ---")
    local delBtn = btn(pages.main, "DELETE PART(LOOK)", function()
        local t = getTarget()
        if t and isValidPart(t) then
            -- ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡πÉ‡∏ô‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å
            t.AssemblyLinearVelocity = Cam.CFrame.LookVector * deleteForce
            -- ‡∏ñ‡πâ‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á Grab ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏´‡πâ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
            if grabbed[t] then
                grabbed[t].bp:Destroy()
                grabbed[t].bg:Destroy()
                grabbed[t] = nil
            end
        end
    end)
    delBtn.BackgroundColor3 = Color3.fromRGB(150, 0, 0) -- ‡∏™‡∏µ‡πÅ‡∏î‡∏á
    delBtn.Font = Enum.Font.GothamBold
end

-- [[ ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå (‡∏õ‡∏∏‡πà‡∏° R + ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤) ]] --
local deleteModeActive = false

if isPC then
    -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏ö‡∏ô UI
    if helpText then
        helpText.Text = helpText.Text .. "\n‚Ä¢ [R] : Delete Mode (R-Click)"
    end

    -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° R
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if gameProcessed then return end
        
        if input.KeyCode == Enum.KeyCode.R then
            deleteModeActive = not deleteModeActive
            grabModeActive = false
            freezeModeActive = false
            if helpTitle then 
                helpTitle.Text = "PC: "..(deleteModeActive and "DELETE MODE" or "IDLE")
                helpTitle.TextColor3 = deleteModeActive and Color3.new(1, 0, 0) or Color3.new(0, 1, 1)
            end
        
        -- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î Delete ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤
        elseif input.UserInputType == Enum.UserInputType.MouseButton2 and deleteModeActive then
            local target = getMouseTarget() -- ‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô GetTarget ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ó‡∏≥‡πÑ‡∏ß‡πâ
            if target and isValidPart(target) then
                -- ‡∏î‡∏µ‡∏î‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡πÄ‡∏°‡∏≤‡∏™‡πå
                local mousePos = UserInputService:GetMouseLocation()
                local unitRay = Cam:ViewportPointToRay(mousePos.X, mousePos.Y)
                target.AssemblyLinearVelocity = unitRay.Direction * deleteForce
                
                -- ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ñ‡πâ‡∏≤‡∏ñ‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà
                if grabbed[target] then
                    grabbed[target].bp:Destroy()
                    grabbed[target].bg:Destroy()
                    grabbed[target] = nil
                end
            end
        end
    end)
end

-- [[ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Highlight ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Delete ]] --
RunService.RenderStepped:Connect(function()
    if isPC and deleteModeActive then
        local t = getMouseTarget()
        if t then
            targetHL.Adornee = t
            targetHL.OutlineColor = Color3.fromRGB(255, 0, 0) -- Highlight ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡πÄ‡∏Ç‡πâ‡∏°
        end
    end
end)
-- [[ ‡∏£‡∏∞‡∏ö‡∏ö Auto Network Ownership (Anti-Lag / Anti-Steal) ]] --
-- ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£ Grab ‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á

task.spawn(function()
    while task.wait(0.1) do -- ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å‡πÜ 0.1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
        for part, _ in pairs(grabbed) do
            if part and part.Parent and not part.Anchored then
                pcall(function()
                    -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á Network ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
                    -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏î‡∏∂‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏°‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Part ‡∏ô‡∏±‡πâ‡∏ô‡πÜ 100%
                    if part:GetNetworkOwner() ~= LP then
                        part:SetNetworkOwner(LP)
                    end
                end)
            end
        end
    end
end)

-- [[ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Force Velocity (‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ç‡∏≠‡∏á‡∏•‡∏≠‡∏¢‡∏ï‡∏≤‡∏°‡πÄ‡∏°‡∏≤‡∏™‡πå‡πÑ‡∏î‡πâ‡∏•‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô) ]] --
-- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏î‡∏ô‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡∏¢‡∏∑‡∏ô‡∏ó‡∏±‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
RunService.Heartbeat:Connect(function()
    for part, objs in pairs(grabbed) do
        if part and part.Parent and not frozen[part] then
            pcall(function()
                -- ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡∏Å‡∏Ñ‡πâ‡∏≤‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ BodyPosition ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û
                part.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
                part.AssemblyAngularVelocity = Vector3.new(0, 0, 0)
            end)
        end
    end
end)
-- [[ ‡∏£‡∏∞‡∏ö‡∏ö THROW TO POSITION (‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á) ]] --

local targetPosInput = "0, 0, 0" -- ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
local customThrowPower = 1.5 -- ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß (‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡πà‡∏á)

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏£‡∏á‡πÄ‡∏´‡∏ß‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢ (Velocity Calculation)
local function throwToTarget(part, targetVector)
    if not part or not part.Parent then return end
    
    -- ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á
    local currentPos = part.Position
    local direction = (targetVector - currentPos)
    local distance = direction.Magnitude
    
    -- ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏Å‡πà‡∏≤‡∏≠‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
    part.AssemblyLinearVelocity = Vector3.new(0,0,0)
    part.AssemblyAngularVelocity = Vector3.new(0,0,0)
    
    -- ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡πÅ‡∏£‡∏á‡∏™‡πà‡∏á (Physics Calculation)
    -- ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ô‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
    local force = direction * customThrowPower
    
    -- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏£‡∏á‡∏Å‡∏£‡∏∞‡πÅ‡∏ó‡∏Å: ‡πÉ‡∏™‡πà BodyVelocity ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Part ‡∏û‡∏∏‡πà‡∏á‡πÑ‡∏õ‡πÅ‡∏ö‡∏ö‡∏ô‡∏¥‡πà‡∏á‡πÜ
    local bv = Instance.new("BodyVelocity")
    bv.MaxForce = Vector3.new(1e6, 1e6, 1e6)
    bv.Velocity = force
    bv.Parent = part
    
    -- ‡∏•‡∏ö‡πÅ‡∏£‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏Å‡∏•‡πâ‡∏ñ‡∏∂‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‡πÅ‡∏õ‡πä‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡πÅ‡∏£‡∏á‡∏Å‡∏£‡∏∞‡πÅ‡∏ó‡∏Å (Damping)
    task.delay(0.2, function()
        if bv.Parent then bv:Destroy() end
    end)
    
    -- ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö (‡∏ñ‡πâ‡∏≤‡∏ñ‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà)
    if grabbed[part] then
        grabbed[part].bp:Destroy()
        grabbed[part].bg:Destroy()
        grabbed[part] = nil
    end
end

-- [[ ‡πÄ‡∏û‡∏¥‡πà‡∏° UI ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Main ]] --
if pages and pages.main then
    label(pages.main, "--- COORDINATE THROWER ---")
    
    -- ‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà 1: ‡∏ä‡πà‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏û‡∏¥‡∏Å‡∏±‡∏î
    local inputBox = Instance.new("TextBox", pages.main)
    inputBox.Size = UDim2.new(1, 0, 0, 30)
    inputBox.PlaceholderText = "X, Y, Z (‡πÄ‡∏ä‡πà‡∏ô 100, 20, -50)"
    inputBox.Text = targetPosInput
    inputBox.Font = Enum.Font.Gotham
    inputBox.TextSize = 14
    inputBox.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    inputBox.TextColor3 = Color3.new(1, 1, 1)
    Instance.new("UICorner", inputBox)
    
    inputBox.FocusLost:Connect(function()
        targetPosInput = inputBox.Text
    end)

    -- ‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà 2: ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏±‡πà‡∏á‡∏Å‡∏≤‡∏£ (‡∏ß‡∏≤‡∏á‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ô)
    local throwFrame = Instance.new("Frame", pages.main)
    throwFrame.Size = UDim2.new(1, 0, 0, 35)
    throwFrame.BackgroundTransparency = 1
    local l = Instance.new("UIListLayout", throwFrame)
    l.FillDirection = Enum.FillDirection.Horizontal
    l.Padding = UDim.new(0, 5)

    -- ‡∏õ‡∏∏‡πà‡∏° THROW ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î
    local btnThrow = btn(throwFrame, "üöÄ THROW TO POS", function()
        local coords = {}
        for s in string.gmatch(targetPosInput, "[%d%.%-]+") do
            table.insert(coords, tonumber(s))
        end
        
        if #coords >= 3 then
            local targetVec = Vector3.new(coords[1], coords[2], coords[3])
            
            -- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Part ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÇ‡∏¢‡∏ô (‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πá‡∏á‡∏≠‡∏¢‡∏π‡πà ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ß‡πâ)
            local t = getTarget()
            if t then
                throwToTarget(t, targetVec)
            else
                -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡πá‡∏á‡∏≠‡∏∞‡πÑ‡∏£ ‡πÉ‡∏´‡πâ‡πÇ‡∏¢‡∏ô Part ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (Selected)
                for p in pairs(selected) do
                    throwToTarget(p, targetVec)
                end
            end
        end
    end)
    btnThrow.Size = UDim2.new(0.6, -2, 1, 0)
    btnThrow.BackgroundColor3 = Color3.fromRGB(0, 120, 200)

    -- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏á (‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°)
    local btnPower = btn(throwFrame, "PWR: "..customThrowPower, function(b)
        if customThrowPower >= 5 then customThrowPower = 0.5 
        else customThrowPower = customThrowPower + 0.5 end
        b.Text = "PWR: "..customThrowPower
    end)
    btnPower.Size = UDim2.new(0.4, -3, 1, 0)
end

loadstring(game:HttpGet("https://raw.githubusercontent.com/randomstring0/Qwerty/main/qwerty1.lua"))() --garvityo
